
<% layout('/layouts/boilerplate') %>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<style>
    .form-group1 {
        margin-bottom: 10px;
    }
    .container {
        padding: 20px;
    }
    .form-control {
        margin-bottom: 15px;
    }
    .btn-success {
        margin-right: 10px;
    }
    .invalid-feedback {
        display: none;
    }
    .form-control:invalid ~ .invalid-feedback {
        display: block;
    }
    .form-control:valid ~ .valid-feedback {
        display: block;
    }
</style>
<div class="container">
    <h1>Edit Hotel</h1>
    <form action="/hotels/<%= hotel._id %>?_method=PUT" method="POST" class="needs-validation" novalidate enctype="multipart/form-data">
        <div class="form-group">
            <label for="title">Title/Name</label>
            <input type="text" class="form-control" id="title" name="hotel[title]" value="<%= hotel.title %>" required>
            <div class="invalid-feedback">
                Please provide a title.
            </div>
            <div class="valid-feedback">
                Looks good!
            </div>
        </div>
        <div class="form-group">
            <label for="location">Location</label>
            <input type="text" class="form-control" id="location" name="hotel[location]" value="<%= hotel.location %>" required>
            <div class="invalid-feedback">
                Please provide a location.
            </div>
            <div class="valid-feedback">
                Looks good!
            </div>
        </div>
        <div class="form-group">
            <label for="description">Description</label>
            <textarea class="form-control" id="description" name="hotel[description]" required><%= hotel.description %></textarea>
            <div class="invalid-feedback">
                Please provide a description.
            </div>
            <div class="valid-feedback">
                Looks good!
            </div>
        </div>
        <div class="form-group form-group1">
            <label for="price">Price per Night</label>
            <input type="number" class="form-control" id="price" name="hotel[price]" value="<%= hotel.price %>" required>
            <div class="invalid-feedback">
                Please provide a valid price.
            </div>
            <div class="valid-feedback">
                Looks good!
            </div>
        </div>
        <input type="file" name="image" id="" multiple>
        <div>
            <% hotel.images.forEach(function(img, i) { %>
                <img src="<%= img.url %>" class="img-thumbnail" alt="">
                <div class="form-check-inline">
                    <input type="checkbox" id="image-<%= i %>" name="deleteImages[]" value="<%= img.filename.trim() %>">
                    <label for="image-<%= i %>">Delete?</label>
                </div>
            <% }) %>
        </div>
        <div>
            <button type="submit" class="btn btn-success mt-3">Update Hotel</button>
        </div>
        <p class="mt-3">
            <a href="/hotels/<%= hotel._id %>" class="btn btn-secondary">Back to the hotel</a>
        </p>
    </form>
</div>

